<Window x:Class="BookStore.OrderBooks"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:BookStore"
        mc:Ignorable="d"
        Title="OrderBooks" Height="450" Width="800" WindowStartupLocation="CenterScreen" Background="#FFFFD198">
    <Window.Resources>
        <local:AmountConvert x:Key="AmountConvert"/>
    </Window.Resources>
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Шапка страницы -->
            <RowDefinition Height="*"/>
            <!-- Основная область для списка книг -->
            <RowDefinition Height="Auto"/>
            <!-- Нижний блок для ввода количества и заказ -->
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <!-- Основная колонка для большинства элементов -->
            <ColumnDefinition Width="Auto"/>
            <!-- Небольшая правая колонка для кнопки возврата -->
        </Grid.ColumnDefinitions>

        <!-- Кнопка возврата на главную -->
        <Button x:Name="ReturnButton" Content="Вернуться" HorizontalAlignment="Right" VerticalAlignment="Center" Width="106" Click="ReturnButton_Click" Grid.ColumnSpan="2" Background="#FFE2CAAC"/>

        <!-- Список книг -->
        <ListBox x:Name="BookStoreListBox" d:ItemsSource="{d:SampleData ItemCount=5}" Grid.Row="1" Grid.Column="0" Margin="0,10,0,20" SelectionChanged="BookStoreListBox_SelectionChanged" Background="#FFE2CAAC">
            <ListBox.ItemContainerStyle>
            <Style TargetType="ListBoxItem">
                <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
            </Style>
            </ListBox.ItemContainerStyle>
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Border>
                        <StackPanel>
                            <TextBlock Text="{Binding Name}" FontSize="16" FontStyle="Normal" FontWeight="Bold"/>
                            <DockPanel Margin="80,0,0,0">
                                <TextBlock Text="{Binding AuthorNavigation.Name}"/>
                                <TextBlock Text=" "/>
                                <TextBlock Text="{Binding AuthorNavigation.Surname}"/>
                                <TextBlock Text=" "/>
                                <TextBlock Text="{Binding AuthorNavigation.Fathername}"/>
                            </DockPanel>
                            <TextBlock Text="{Binding Genre}" Margin="80,0,0,0"/>
                            <TextBlock Text="   "/>
                            <TextBlock Text="{Binding Description}"/>
                            <DockPanel HorizontalAlignment="Right">
                                <TextBlock Text="Кол-во на складе: " Margin="0,10,10,10" FontSize="16"/>
                                <TextBlock Text="{Binding StorageNavigation.Amount}" Margin="0,10,50,10" FontSize="16"/>
                                <TextBlock Text="{Binding StorageNavigation.Amount, Converter={StaticResource AmountConvert}}" HorizontalAlignment="Right" Margin="0,10,80,10" FontSize="16"/>
                            </DockPanel>
                            
                        </StackPanel>
                    </Border>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>

        <StackPanel  Grid.Row="2" Grid.Column="0">
            <Label x:Name="AmountLabel" Content="Введите число книг" HorizontalAlignment="Left" VerticalAlignment="Bottom" Grid.RowSpan="2"/>
            <TextBox x:Name="AmountTextBox" HorizontalAlignment="Left" Width="120" Background="#FFE2CAAC"/>
        </StackPanel>

        <Button x:Name="OrderButton" Content="Заказать" Grid.Row="2" Grid.Column="0" HorizontalAlignment="Left" Margin="130,10,0,0" Height="21" Width="86" Click="OrderButton_Click" Background="#FFE2CAAC"/>
        <Label Content="Книжный магазин" HorizontalAlignment="Left" Grid.Row="0" Grid.Column="0" VerticalAlignment="Bottom" FontSize="24" FontWeight="Bold"/>
    </Grid>
</Window>
